---
tags:
  - csharp
---
Метод `OfType<T>()` в LINQ позволяет фильтровать элементы последовательности, выбирая только те, которые могут быть приведены к указанному типу T. Это особенно полезно, когда у вас есть коллекция объектов разных типов, и вы хотите получить только элементы определенного типа.
Вот пример, показывающий, как использовать OfType<> в C#:

```csharp
using System;
using System.Collections.Generic;
using System.Linq;

class Program
{
    static void Main()
    {
        // Создаем список объектов разных типов
        List<object> items = new List<object>
        {
            1,
            "hello",
            3.14,
            true,
            42,
            "world"
        };

        // Используем OfType<int>() для фильтрации только целых чисел
        var integers = items.OfType<int>();

        // Выводим отфильтрованные элементы
        Console.WriteLine("Целые числа:");
        foreach (var number in integers)
        {
            Console.WriteLine(number);
        }

        // Используем OfType<string>() для фильтрации только строк
        var strings = items.OfType<string>();

        // Выводим отфильтрованные элементы
        Console.WriteLine("\nСтроки:");
        foreach (var str in strings)
        {
            Console.WriteLine(str);
        }
    }
}

```
▎Объяснение кода:

1. Создание списка: Мы создаем список items, который содержит объекты разных типов: целые числа, строки, числа с плавающей запятой и булевы значения.
2. Фильтрация с помощью `OfType<int>():` Мы используем `OfType<int>()`, чтобы получить только те элементы, которые являются целыми числами. Результатом будет коллекция, содержащая только целые числа.
3. Вывод результатов: Мы выводим отфильтрованные целые числа и строки на консоль.

▎Результат выполнения программы:
```
Целые числа:
1
42

Строки:
hello
world

```
Таким образом, метод OfType<T>() позволяет легко фильтровать коллекции по типу и извлекать только те элементы, которые соответствуют указанному типу.