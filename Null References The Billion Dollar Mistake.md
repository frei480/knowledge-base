https://www.infoq.com/presentations/Null-References-The-Billion-Dollar-Mistake-Tony-Hoare/
Автор: Tony Hoare
Нулевые ссылки: Ошибка на миллиард долларов - Тони Хоар

00:06 Введение и обсуждение нулевых ссылок

• Автор благодарит участников конференции и выражает удивление, что ему пришлось выступить с двумя докладами.
• Он предлагает обсудить, были ли нулевые ссылки исторически плохой идеей.
• Проводит голосование среди участников, чтобы выяснить их мнение.

03:30 История и последствия нулевых ссылок

• Автор рассказывает о своей первой работе программистом в 1960 году.
• Он разработал новый язык программирования, вдохновленный документом "Отчет о международном алгоритмическом языке Алгол 60".
• Описывает, как нулевые ссылки стали проблемой, и как это повлияло на программирование.

07:02 Проблемы с нулевыми ссылками и их решение

• Автор объясняет, что проверка границ индексов в языке Алгол 60 увеличивала размер кода и время выполнения.
• Он отмечает, что это решение было принято для предотвращения ошибок в индексах.
• Подчеркивает, что это решение оказалось успешным и было воспроизведено в языке Java.

10:25 Обработка записей и указателей

• Автор рассказывает о своем вкладе в разработку языка Алгол 61 и концепции обработки записей.
• Он объясняет, как указатели и косвенная адресация могут привести к ошибкам в программе.
• Подчеркивает важность проверки типов во время компиляции для предотвращения ошибок.

14:34 Заключение и выводы

• Автор подводит итоги, отмечая, что обработка записей предотвращает ошибки в индексах.
• Он подчеркивает, что проверка типов во время компиляции была хорошей идеей.
• Завершает выступление, выражая благодарность участникам и организаторам конференции.

16:02 Удаление проверки типов

• Удаление проверки типов из запущенных программ сравнивается с снятием спасательного жилета во время учений.
• Клиенты не хотят отключать проверку типов, и это стало серьезной ошибкой для компании.

16:53 Проблемы с компилятором Fortran

• Компания пыталась создать компилятор Fortran, переводя его на Algol, но это оказалось сложной задачей.
• Компилятор работал медленно и не мог запускать многие программы из-за ошибок в подстрочных индексах.

18:56 Переход на Java и нулевые указатели

• Люди стали больше беспокоиться об ошибках и перешли на Java, где проверка подстрочных индексов стандартна.
• Введение нулевых указателей потребовало проверки каждой ссылки, что многие программисты предпочитали избегать.

19:57 Критика нулевых указателей

• Эдгар Дейкстра считал нулевые ссылки плохой идеей, сравнивая их с полигамным браком.
• Нулевые указатели вызывают необходимость выбирать между быстрой работой без проверки и медленной с проверкой.

21:33 Идея непересекающегося объединения

• Идея непересекающегося объединения позволяет объявлять новый класс как объединение различных других классов.
• Это решение требует дискриминационных оговорок при доступе к компонентам объекта.

25:44 Проблемы с инициализацией

• Инициализация указателей без использования null требует создания подязыка для инициализации.
• Это сложно, особенно при создании циклических структур.

27:52 Современные языки и нулевые ссылки

• Современные языки, такие как C# и Java, вводят ненулевые ссылки и проверку во время компиляции.
• Это движение было мотивировано тем, что нулевые ссылки были дорогостоящей ошибкой.

29:31 Ответственность за ошибки

• Разработчик языка программирования должен нести ответственность за ошибки, допущенные программистами.

30:34 Разработка языков программирования

• Разработка языков программирования требует серьезной инженерной деятельности.
• Важно учитывать научную базу, изобретательность и контроль над деталями.
• Цель - создать язык, который минимизирует ошибки и делает программы правильными.

31:39 Формальная верификация программ

• Использование формальной верификации для разработки языков программирования.
• В 1969 году не было уверенности в использовании доказательств для гарантии корректности программ.
• Логические свойства языка помогают оценить его корректность.

33:29 Ответственность за ошибки

• Пользователи языка должны нести ответственность за ошибки.
• Java и её преемники используют принцип предотвращения ошибок.
• Совместимость с существующим кодом является важным критерием.

35:05 Эволюция подходов к программированию

• Программисты начинают больше интересоваться корректностью и доказуемостью программ.
• Аналогия с безопасностью транспортных средств: постепенное изменение отношения к надежности.
• Законодательные инициативы способствуют повышению надежности программ.

37:00 Вирусы и формальная корректность

• Вирусы требуют корректировки программ, включая те части, которые могут использоваться вирусами.
• Анализ исходного кода и проверка типов помогают выявлять ошибки.
• Вирусы, такие как Code Red, наносят значительный ущерб экономике.

41:48 Сингулярность и подход к ней

• Сингулярность и Spec Sharp мотивированы идеалами написания правильных программ.
• Эти исследовательские прототипы могут стать расширениями для других языков.
• Microsoft использует идеи контрактов для улучшения тестирования и доказательства корректности.

44:10 Нулевая ссылка и типы с нулевым значением

• Нулевая ссылка была неизбежна и могла быть изобретена кем-то другим.
• В более поздних версиях C допускаются типы с нулевым значением.
• C# и Java выполняют проверки во время выполнения, что безопаснее, но менее эффективно.

45:45 Отношение к языкам без тегов и динамической типизацией

• Программирование разнообразно, и выбор правильного инструмента важен.
• Личный опыт использования таких языков отсутствует.
• Фа-диез имеет возможности вывода типов, что упрощает работу.

46:55 История Java и интерпретируемые языки

• Java изначально был языком с типизацией во время выполнения.
• Разработчики языков часто создают интерпретируемые языки с минимальной проверкой.
• Популярность языка приводит к его компилированию.

47:38 Нулевые ссылки и их проверка

• Пример с женой студента показывает необходимость проверки наличия ссылки.
• Проверка откладывается, если не использовать нулевой указатель.
• Нулевой указатель позволяет быстро выйти из строя.

49:35 Проблемы программирования и разработка языков

• Разработка языков должна избегать создания новых проблем.
• Программирование сложно из-за множества случаев, которые нужно учитывать.
• Введение новых концепций не упрощает программирование.

50:30 Аргументы против нулевых ссылок

• Моделирование предметной области важно для правильного определения ссылок.
• Шаблон нулевого объекта может быть неэффективным.
• В Haskell используется монада Maybe для проверки ссылок статически.

52:39 Проблемы обобщения и указатели

• Обобщение всех объектов как проблемы.
• Указатели используются для структурирования данных и управления памятью.
• Указатели выполняют полезную работу, но их использование может быть сложным.

54:04 Принципы использования указателей

• Указатели используются для реализации памяти indiarubber.
• Цепочки указателей обычно имеют максимальную длину один.
• Указатели могут быть конвергенции или циклическими, и для каждого случая нужны разные соглашения.

57:49 Защита нулевых ссылок

• Нулевые ссылки могут быть полезны для быстрого выхода из строя.
• Саймон Пейтон Джонс использует диаграммы для защиты своих идей.
• Нулевые ссылки требуют проверки, но могут быть полезны в некоторых случаях.

58:47 Полезность и безопасность в программировании

• Обсуждение полезности и безопасности в программировании.
• Haskell как язык без побочных эффектов, но его полезность ограничена.
• Стремление к созданию полезных программ с минимальными побочными эффектами.

01:00:26 Различия в подходах ученых и инженеров

• Ученые стремятся к идеологически обоснованным, но бесполезным решениям.
• Инженеры ценят полезность, даже если она достигается за счет элегантности.
• Пример разработки продукта на языке Erlang в 1996 году, где элегантность была неуместна из-за требований производительности.

01:01:21 Защита и признание

• Признание необходимости защиты для инженеров, которые производили продукты.
• Упоминание речи на церемонии вручения премии Тьюринга.
• Благодарность всем участникам.

