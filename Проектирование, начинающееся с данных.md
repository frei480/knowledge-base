---
tags:
  - АрхитектураПО
  - python
---

Вы можете заметить некоторые из следующих проблем в своем коде:

- Он написан как одноразовый быстрый скрипт, но в то же время структура кода довольно сложная. Это проблематично, особенно если это код, который нужно менять довольно часто
- Данные и параметры конфигурации разбросаны по разным файлам и классам.
- Абстракции недостаточно используются для разделения различных частей кода.
- Способ передачи данных через приложение является случайным и совершенно нелогичным.
Написание хорошего программного обеспечения — это сложная задача, и для того, чтобы стать отличным разработчиком программного обеспечения, крайне важно научиться хорошо проектировать и организовывать свой код. Важнейший принцип проектирования, связанный с этим, — « Начните с данных» . Это один из 7 принципов современного проектирования программного обеспечения.

Основная идея принципа заключается в назначении обязанностей таким образом, чтобы каждая часть вашего кода имела информацию, необходимую для выполнения обязанностей. Другими словами, дизайн программного обеспечения следует структуре данных и тому, как они используются. Что это значит? Взгляните на эту функцию:
```python
def register_vehicle(brand: string): 
  license_plate = generate_vehicle_license() 
  catalog_price = 0 
  if brand == "Tesla Model 3": 
    catalog_price = 6000000 
  elif brand == "Volkswagen": 
    catalog_price = 3500000 
    tax_rate = 0.05 
  if brand == "Tesla Model 3": 
    tax_rate = 0.02 
  print(tax_rate * catalog_price)
```
Эта функция отвечает за генерацию лицензии на транспортное средство, определение цены по каталогу и налоговой ставки, расчет налога и вывод его на экран. Поскольку все находится в одной функции, это трудно изменить. Например, мы не можем повторно использовать информацию о цене каталога в другой части программы, поскольку она встроена непосредственно в эту функцию. Если мы хотим узнать, какой налог платить, эта функция вычисляет его, но мы ничего не можем сделать со значением, поскольку оно просто выводится на экран. Вы также можете настроить его следующим образом:
```python
@dataclass 
class Vehicle:: 
  марка: str 
  catalog_price: int 
  electric: bool 
  license_plate: str = field(init=False) 

  def __post_init__(self): 
    self.license_plate = generate_vehicle_license() 

  @property 
  def tax(self) -> int: 
    tax_rate = 0.02 if self.electric else 0.05 
    return int(tax_rate * self.catalogue_price) 

def main(): 
  tesla = Vehicle("Tesla Model 3", 6000000, True) 
  volkswagen = Vehicle("Volkswagen", 3500000, True) 
  print(tesla.tax) 
  print(volkswagen.tax)
```
Главное отличие этой версии от одиночной функции в том, что теперь мы сгруппировали данные и поведение более тесно. Все, что относится к транспортному средству, находится в классе Vehicle, включая расчет налога. Это означает, что теперь у нас гораздо больше свободы в том, как мы используем транспортные средства в нашей программе.

Короче говоря, проектируйте свой код вокруг данных и назначайте обязанности близко к тем данным, которые им нужны. Также подумайте о том, как объекты или модули в вашем программном обеспечении взаимодействуют. Проектируйте свою систему таким образом, чтобы объем данных, которые передаются между ними, был минимизирован. Это приведет к тому, что ваш код будет легче поддерживать и расширять.