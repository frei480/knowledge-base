---
tags:
  - SQL
---

Для поиска записей, где имя документа заканчивается на суффиксы Д1-Д99 (цифры от 1 до 99 после буквы Д), можно использовать следующий SQL-запрос:

```sql
SELECT *
FROM your_table
WHERE 
    (RIGHT(document_name, 2) LIKE 'Д[1-9]' AND LEN(document_name) >= 2) -- Для Д1-Д9
    OR
    (RIGHT(document_name, 3) LIKE 'Д[1-9][0-9]' AND LEN(document_name) >= 3) -- Для Д10-Д99
```

**Объяснение:**

1. **`RIGHT(document_name, N)`** — извлекает `N` последних символов из строки.
2. **Проверка для Д1-Д9:**
   - `RIGHT(document_name, 2) LIKE 'Д[1-9]'` — последние два символа должны быть `Д` и цифра от 1 до 9.
   - `LEN(document_name) >= 2` — гарантирует, что длина строки достаточна.
3. **Проверка для Д10-Д99:**
   - `RIGHT(document_name, 3) LIKE 'Д[1-9][0-9]'` — последние три символа должны быть `Д`, цифра от 1 до 9 и любая цифра.
   - `LEN(document_name) >= 3` — гарантирует, что длина строки достаточна.

**Примеры подходящих имен:**
- `ДокументД1`
- `ОтчетД25`
- `ФайлД99`

**Что исключено:**
- `Д0`, `Д00` (цифра 0 после Д).
- `Д100` (больше двух цифр).
- `Д12тест` (после цифр есть другие символы).

Этот запрос эффективно находит документы с нужными суффиксами, проверяя конец строки и допустимый диапазон цифр.