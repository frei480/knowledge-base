---
tags:
  - python
---
пересказ видео https://www.youtube.com/watch?v=qh98qOND6MI
UV for Python… (Almost) All Batteries Included

00:00 Введение в UV

• UV объединяет множество функций в одном инструменте и работает быстро.
• Он заменяет множество инструментов, таких как pip, pipx, poetry, pyenv и virtualenv.
• UV разработан на Rust и принадлежит компании Astral.

00:55 Установка UV

• На Mac можно установить UV с помощью Brew.
• Для других систем можно использовать curl, pip или cargo.
• После установки UV доступен через командную строку.

01:47 Создание нового проекта

• Команда `uv init` создает приложение Python с файлами py и toml.
• По умолчанию используется app, но можно создать библиотеку с помощью lib.
• UV автоматически настраивает базовые файлы и зависимости.

03:44 Запуск и добавление зависимостей

• Команда uv run запускает программу и устанавливает зависимости.
• Добавление зависимостей, таких как pandas, выполняется с помощью uv add.
• Удаление зависимостей также просто: uv remove.

05:28 История и команды UV

• Изначально UV назывался Puffin и был просто менеджером пакетов.
• Команды uv add, uv remove и uv sync синхронизируют зависимости.
• Команда uv lock создает файл блокировки, а uv update обновляет пакеты до последней версии.

07:11 Рабочие пространства и зависимости

• UV поддерживает рабочие пространства для монорепозиториев.
• В рабочей области проекты могут иметь общие зависимости.
• UV управляет зависимостями и синхронизирует их между проектами.

09:02 Виртуальные среды и рабочие области

• Разные проекты в рабочей области используют одну и ту же виртуальную среду.
• Для создания отдельного проекта с собственной виртуальной средой используется команда uv.
• Рабочие области полезны для проектов с общими зависимостями.

09:55 Использование инструментов в UV

• В UV можно запускать пакеты Python как инструменты, например, форматировщик кода.
• UV автоматически устанавливает инструменты во временную среду.
• Обновление оболочки полезно для настройки пути к установленным программам.

10:48 Установка и обновление инструментов

• UV позволяет устанавливать, удалять и обновлять инструменты.
• UV автоматически определяет версии Python в системе и устанавливает их при необходимости.
• UV проверяет установленные версии и системные пути для поиска совместимых версий Python.

12:48 Установка конкретной версии Python

• UV позволяет установить конкретную версию Python для проекта.
• Можно использовать ограничения для установки новейшей версии Python.
• UV упрощает управление проектами на Python и заменяет множество инструментов.

14:01 Недостатки и улучшения UV

• UV не имеет пользовательских скриптов, что было бы полезно.
• UV не имеет встроенного бэкенда сборки, что требует использования сторонних инструментов.
• В GitHub есть запрос на добавление встроенного бэкенда сборки на Rust.

15:54 Публикация пакетов на Python

• UV Publish позволяет публиковать пакеты на PyPI с помощью GitHub-действия.
• В некоторых проектах используется настройка доверенного издателя на PyPI.
• UV Build используется для создания исходного кода и дистрибутива, а UV Publish — для публикации.

16:50 Заключение и призыв к обсуждению

• Автор просит поделиться мнением о UV и его недостатках.
• В GitHub есть дополнительные ресурсы для настройки проектов с UV.
• Видео завершается благодарностью за просмотр и приглашением к следующему выпуску.

